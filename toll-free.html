
<!DOCTYPE html>
<html lang="en">
<head>
  <title>BAU-Ops Tools</title>
  <link rel="stylesheet" type="text/css" href="styles.css">
</head>
<body>
  <ul>
    <li><a href="cease.html">Cease Billing Format</a></li>
    <li><a href="port.html">Billing Format</a></li>
    <li><a href="ipms.html">IPMS Format</a></li>
    <li><a href="devoli.html">Devoli Format</a></li>
    <li><a href="list.html">List for BAU Ops</a></li>
    <li><a href="range.html">Extract Range Format</a></li>
    <li><a href="number range.html">Group Range Format</a></li>
    <li><a href="lsp.html"><b>LSP Notification</b></a></li>
    <li><a href="enable.html">Enable Orders on Hold</a></li>
    <li><a href="toll-free.html"><b>Enable Orders on Hold</b></a></li>
    <li><a href="billing.html">Convert to Billing Fromat</a></li>
    <li><a href="tf.html">Toll-Free for Billing</a></li>
  </ul>

    <h1>Toll-Free Explanation by Bernie</h1>

<p>Enter a number starting with 0800 (spaces are fine, e.g. "0800 123 4567 890").</p>

<input id="phoneInput" type="text"  onfocus="this.value=''; return false;">
<button onclick="analyzeNumber()">Submit</button>

<pre id="output"></pre>

<script>
function analyzeNumber() {
  const input = document.getElementById("phoneInput").value.trim();
  const outputEl = document.getElementById("output");

  // Strip all non-digit characters
  const digitsOnly = input.replace(/\D/g, "");

  // Validate input
  if (!digitsOnly.startsWith("0800") || digitsOnly.length < 10) {
    outputEl.textContent = "Please enter a valid NZ toll free number starting with 0800 and at least 10 digits.";
    return;
  }

  // Extract components
  const after0800 = digitsOnly.slice(4);        // everything after 0800
  const nextSix = after0800.slice(0, 6);        // first six digits after 0800
  const extras = after0800.slice(6);            // anything beyond that

  const xxx = "0800 " + after0800;
  const yyy = "0800 " + nextSix;
  const zzz = extras;                           // may be empty

  // Build the output text
  let resultText = 
`NZ Toll free numbers are 10 digits long, 0800 and then 6 digits.

That said, a caller can dial as many numbers as they like and the call will still make it to the correct destination.

For example, ${xxx} is the full number - however if a caller was to dial ${xxx}${zzz ? " " + zzz : ""} - the call would end up at ${yyy}${zzz ? " and the final key stroke of " + zzz + " would not be accounted for." : "."}

It's quite common for customer to choose more than 10 digits - with the caveat that it's only the first 10 digits that control the routing.`;

  // Actually display the result
  outputEl.textContent = resultText;

  // Copy to clipboard
  if (navigator.clipboard && window.isSecureContext) {
    navigator.clipboard.writeText(resultText)
      .then(() => console.log("Output copied to clipboard."))
      .catch(e => console.warn("Clipboard copy failed:", e));
  } else {
    // Fallback for older browsers (copies via textarea)
    const temp = document.createElement("textarea");
    temp.value = resultText;
    document.body.appendChild(temp);
    temp.select();
    try { document.execCommand("copy"); } catch(e) { console.warn("Fallback copy failed:", e); }
    document.body.removeChild(temp);
  }
}
</script>

</body>
</html>
